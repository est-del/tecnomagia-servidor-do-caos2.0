<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Servidor do Caos - Tecnomagia Qu√¢ntica Avan√ßada</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpolygon points='50,10 90,30 90,70 50,90 10,70 10,30' fill='%2300ffff' opacity='0.7'/%3E%3C/svg%3E" type="image/svg+xml">
  <style>
    :root {
      --neon-cyan: #0ff;
      --neon-magenta: #f0f;
      --neon-yellow: #ff0;
      --neon-green: #0f0;
      --dark-bg: #000;
      --panel-bg: rgba(0, 20, 30, 0.8);
      --quantum-gradient: linear-gradient(45deg, #0ff, #f0f, #ff0, #0f0);
    }
    * {
      box-sizing: border-box;
    }
    body {
      background: var(--dark-bg) radial-gradient(circle at 50% 50%, rgba(0, 255, 255, 0.1) 0%, transparent 70%);
      color: var(--neon-cyan);
      font-family: 'Courier New', monospace;
      overflow-x: hidden;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      position: relative;
    }
    .quantum-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: 
        radial-gradient(circle at 20% 20%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(255, 0, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 70%, rgba(255, 255, 0, 0.1) 0%, transparent 50%);
      animation: quantum-shift 20s infinite ease-in-out;
    }
    @keyframes quantum-shift {
      0%, 100% { transform: scale(1) rotate(0deg); }
      33% { transform: scale(1.1) rotate(120deg); }
      66% { transform: scale(0.9) rotate(240deg); }
    }
    .main-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
      position: relative;
      z-index: 1;
    }
    .ritual-panel {
      border: 2px solid var(--neon-cyan);
      box-shadow: 
        0 0 40px rgba(0, 255, 255, 0.4),
        inset 0 0 40px rgba(0, 255, 255, 0.1);
      padding: 2rem;
      margin: 2rem auto;
      max-width: 1000px;
      text-align: center;
      backdrop-filter: blur(15px);
      background: var(--panel-bg);
      position: relative;
      border-radius: 15px;
      animation: panel-pulse 4s infinite alternate;
    }
    @keyframes panel-pulse {
      from { 
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.4), inset 0 0 20px rgba(0, 255, 255, 0.1);
        border-color: var(--neon-cyan);
      }
      to { 
        box-shadow: 0 0 60px rgba(0, 255, 255, 0.8), inset 0 0 60px rgba(0, 255, 255, 0.2);
        border-color: var(--neon-magenta);
      }
    }
    .title {
      font-size: 2.5rem;
      background: var(--quantum-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: title-glow 3s infinite alternate;
      margin-bottom: 1rem;
    }
    @keyframes title-glow {
      from { filter: drop-shadow(0 0 10px var(--neon-cyan)); }
      to { filter: drop-shadow(0 0 30px var(--neon-magenta)); }
    }
    .subtitle {
      color: var(--neon-yellow);
      font-style: italic;
      margin-bottom: 2rem;
      text-shadow: 0 0 10px var(--neon-yellow);
    }
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    .input-group {
      display: flex;
      flex-direction: column;
    }
    .input-group label {
      margin-bottom: 0.5rem;
      color: var(--neon-green);
      font-weight: bold;
    }
    input, textarea, select {
      width: 100%;
      padding: 12px;
      margin: 5px 0;
      border-radius: 8px;
      background: rgba(0, 30, 40, 0.9);
      border: 2px solid var(--neon-cyan);
      color: var(--neon-cyan);
      font-family: inherit;
      font-size: 14px;
      transition: all 0.3s;
    }
    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: var(--neon-magenta);
      box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
    }
    input::placeholder, textarea::placeholder {
      color: rgba(0, 255, 255, 0.5);
    }
    textarea {
      min-height: 80px;
      resize: vertical;
    }
    .button {
      background: transparent;
      border: 2px solid var(--neon-cyan);
      color: var(--neon-cyan);
      padding: 12px 30px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s;
      margin: 0.5rem;
      font-weight: bold;
      position: relative;
      overflow: hidden;
      border-radius: 8px;
      font-family: inherit;
    }
    .button:hover {
      box-shadow: 0 0 30px currentColor;
      transform: scale(1.05);
    }
    .button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.4), transparent);
      transition: 0.5s;
    }
    .button:hover::before {
      left: 100%;
    }
    .button.primary {
      border-color: var(--neon-magenta);
      color: var(--neon-magenta);
      font-size: 1.3rem;
      padding: 15px 40px;
    }
    .quantum-display {
      border: 1px dashed var(--neon-cyan);
      background: rgba(0, 0, 0, 0.8);
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
      min-height: 200px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
    .quantum-grid {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      gap: 8px;
      margin: 2rem auto;
      width: 300px;
      padding: 20px;
      background: rgba(0, 255, 255, 0.1);
      border-radius: 10px;
    }
    .qubit {
      height: 25px;
      width: 25px;
      background: #333;
      border-radius: 50%;
      transition: all 0.5s ease;
      position: relative;
    }
    .qubit.active {
      background: var(--neon-yellow);
      box-shadow: 0 0 20px var(--neon-yellow);
      animation: qubit-pulse 1s infinite alternate;
    }
    @keyframes qubit-pulse {
      from { transform: scale(1); }
      to { transform: scale(1.2); }
    }
    .visualization-container {
      position: relative;
      width: 400px;
      height: 400px;
      margin: 20px auto;
    }
    .merkaba-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 200px;
      height: 200px;
    }
    .merkaba-rotation {
      width: 100%;
      height: 100%;
      animation: merkaba-spin 8s linear infinite;
    }
    @keyframes merkaba-spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .sigil-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 15;
      width: 180px;
      height: 180px;
      border-radius: 50%;
      overflow: hidden;
      border: 3px solid var(--neon-yellow);
      box-shadow: 0 0 30px var(--neon-yellow);
      display: none;
      animation: sigil-pulse 3s infinite ease-in-out;
    }
    @keyframes sigil-pulse {
      0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
      50% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
    }
    .sigil-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    .witness-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      overflow: hidden;
      border: 3px solid var(--neon-cyan);
      box-shadow: 0 0 30px var(--neon-cyan);
    }
    .witness-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .radiographic-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 5;
      width: 140px;
      height: 140px;
      border-radius: 50%;
      overflow: hidden;
      border: 2px solid var(--neon-magenta);
      box-shadow: 0 0 20px var(--neon-magenta);
      animation: radiographic-spin 12s linear infinite;
    }
    @keyframes radiographic-spin {
      from { transform: translate(-50%, -50%) rotate(0deg); }
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }
    .radiographic-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .pantacle-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 20;
      width: 300px;
      height: 300px;
      opacity: 0.7;
      pointer-events: none;
    }
    .pantacle-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    .frequency-display {
      background: rgba(0, 255, 255, 0.1);
      border: 1px solid var(--neon-cyan);
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
    }
    .status-panel {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: var(--panel-bg);
      border: 1px solid var(--neon-green);
      padding: 15px;
      border-radius: 8px;
      max-width: 300px;
      z-index: 1000;
    }
    .config-panel {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--panel-bg);
      border: 1px solid var(--neon-yellow);
      padding: 15px;
      border-radius: 8px;
      z-index: 1000;
    }
    .config-toggle {
      cursor: pointer;
      color: var(--neon-yellow);
      text-decoration: underline;
      margin-bottom: 10px;
    }
    #config-form {
      display: none;
    }
    .lunar-phase {
      display: inline-block;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: var(--neon-yellow);
      position: relative;
      margin: 0 10px;
      box-shadow: 0 0 15px var(--neon-yellow);
    }
    .solfeggio-frequencies {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 10px;
      margin: 15px 0;
    }
    .freq-button {
      padding: 8px 12px;
      border: 1px solid var(--neon-cyan);
      background: transparent;
      color: var(--neon-cyan);
      cursor: pointer;
      border-radius: 5px;
      font-size: 12px;
      transition: all 0.3s;
    }
    .freq-button:hover, .freq-button.active {
      background: var(--neon-cyan);
      color: var(--dark-bg);
      box-shadow: 0 0 15px var(--neon-cyan);
    }
    .sacred-geometry {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      opacity: 0.3;
    }
    .energy-field {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 300px;
      height: 300px;
      border: 1px solid var(--neon-magenta);
      border-radius: 50%;
      animation: energy-pulse 3s infinite ease-in-out;
    }
    @keyframes energy-pulse {
      0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.3;
      }
      50% { 
        transform: translate(-50%, -50%) scale(1.2);
        opacity: 0.7;
      }
    }
    .manifestation-code {
      font-family: 'Courier New', monospace;
      font-size: 1.2rem;
      letter-spacing: 3px;
      color: var(--neon-magenta);
      text-shadow: 0 0 10px var(--neon-magenta);
    }
    .encryption-indicator {
      color: var(--neon-green);
      font-size: 0.9rem;
      margin-top: 10px;
    }
    .workflow-status {
      background: rgba(0, 255, 0, 0.1);
      border: 1px solid var(--neon-green);
      padding: 10px;
      border-radius: 5px;
      margin-top: 15px;
    }
    .audio-visualizer {
      display: flex;
      align-items: end;
      height: 60px;
      gap: 2px;
      justify-content: center;
      margin: 15px 0;
    }
    .audio-bar {
      width: 4px;
      background: var(--neon-cyan);
      border-radius: 2px;
      animation: audio-dance 0.5s infinite ease-in-out;
    }
    @keyframes audio-dance {
      0%, 100% { height: 10px; }
      50% { height: 40px; }
    }
    .gnostic-section, .collapse-section, .release-section {
      margin: 30px auto;
      padding: 20px;
      border: 1px dashed var(--neon-green);
      border-radius: 10px;
      background: rgba(0, 50, 0, 0.3);
      display: none;
    }
    .gnostic-timer, .collapse-timer {
      font-size: 2rem;
      font-weight: bold;
      color: var(--neon-yellow);
      margin: 20px 0;
    }
    .hidden { display: none; }
    @media (max-width: 768px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
      .visualization-container {
        width: 300px;
        height: 300px;
      }
      .title {
        font-size: 2rem;
      }
      .status-panel, .config-panel {
        position: relative;
        margin: 20px auto;
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="quantum-background"></div>
  <div class="main-container">
    <div class="ritual-panel">
      <h1 class="title">üåå SERVIDOR DO CAOS üåå</h1>
      <p class="subtitle">"Voc√™ n√£o est√° pedindo. Voc√™ est√° reescrevendo a realidade."</p>
      <form id="manifestForm">
        <div class="form-grid">
          <div class="input-group">
            <label for="intent">üåü Inten√ß√£o de Manifesta√ß√£o:</label>
            <textarea id="intent" placeholder="Declare sua inten√ß√£o no PRESENTE (Ex: 'Eu sou pr√≥spero e abundante')" required></textarea>
            <div id="intent-analysis" class="frequency-display hidden"></div>
          </div>
          <div class="input-group">
            <label for="name">üßø Nome Completo:</label>
            <input type="text" id="name" placeholder="Seu nome completo para c√°lculo numerol√≥gico" required>
          </div>
          <div class="input-group">
            <label for="birthDate">üìÖ Data de Nascimento:</label>
            <input type="text" id="birthDate" placeholder="DD/MM/AAAA" required>
          </div>
          <div class="input-group">
            <label for="location">üåç Localiza√ß√£o (opcional):</label>
            <input type="text" id="location" placeholder="Cidade, Estado, Pa√≠s">
          </div>
          <div class="input-group">
            <label for="manifestationMode">üîÆ Modo de Manifesta√ß√£o:</label>
            <select id="manifestationMode">
              <option value="manifestacao">Manifesta√ß√£o Geral</option>
              <option value="cura">Cura e Sa√∫de</option>
              <option value="protecao">Prote√ß√£o Energ√©tica</option>
              <option value="abundancia">Abund√¢ncia e Prosperidade</option>
              <option value="amor">Amor e Relacionamentos</option>
              <option value="intuicao">Intui√ß√£o e Sabedoria</option>
            </select>
          </div>
          <div class="input-group">
            <label>üìä Frequ√™ncia Solfeggio:</label>
            <div class="solfeggio-frequencies" id="solfeggio-freq">
              <!-- Frequ√™ncias ser√£o adicionadas via JavaScript -->
            </div>
          </div>
          <!-- NOVO: Sele√ß√£o de Pant√°culo -->
          <div class="input-group">
            <label>üõ°Ô∏è Pant√°culo Arquet√≠pico:</label>
            <select id="pantacleType">
              <option value="none">Nenhum</option>
              <option value="abundance">Abund√¢ncia (üí∞)</option>
              <option value="love">Amor (‚ù§Ô∏è)</option>
              <option value="protection">Prote√ß√£o (üõ°Ô∏è)</option>
              <option value="wisdom">Sabedoria (üß†)</option>
              <option value="healing">Cura (‚öïÔ∏è)</option>
              <option value="power">Poder (‚ö°)</option>
            </select>
          </div>
          <!-- FIM NOVO -->
        </div>
        <div class="form-grid">
          <div class="input-group">
            <label for="testimonyPhoto">üì∏ Foto Testemunha:</label>
            <input type="file" id="testimonyPhoto" accept="image/*">
          </div>
          <div class="input-group">
            <label for="radionicGraphic">üñºÔ∏è Gr√°fico Radi√¥nico:</label>
            <input type="file" id="radionicGraphic" accept="image/*">
          </div>
        </div>
        <div class="button-container">
          <button type="button" id="analyzeBtn" class="button">üîç ANALISAR INTEN√á√ÉO</button>
          <button type="submit" class="button primary">‚ú® ATIVAR MANIFESTA√á√ÉO QU√ÇNTICA ‚ú®</button>
        </div>
      </form>
      <div id="quantum-display" class="quantum-display">
        <div id="status-text">Aguardando configura√ß√£o do ritual...</div>
      </div>
      <div class="visualization-container" id="visualization" style="display: none;">
        <canvas id="sacred-geometry" class="sacred-geometry"></canvas>
        <div class="energy-field"></div>
        <div class="merkaba-container">
          <canvas id="merkaba-canvas" class="merkaba-rotation" width="200" height="200"></canvas>
        </div>
        <div class="sigil-container" id="sigil-container">
          <img id="sigil-image" class="sigil-image" alt="Sigilo Qu√¢ntico">
        </div>
        <div class="witness-container" id="witness-container" style="display: none;">
          <img id="witness-image" class="witness-image" alt="Testemunha">
        </div>
        <div class="radiographic-container" id="radiographic-container" style="display: none;">
          <img id="radiographic-image" class="radiographic-image" alt="Gr√°fico Radiest√©sico">
        </div>
        <!-- NOVO: Container do Pant√°culo -->
        <div class="pantacle-container" id="pantacle-container" style="display: none;">
          <img id="pantacle-image" class="pantacle-image" alt="Pant√°culo Arquet√≠pico">
        </div>
        <!-- FIM NOVO -->
      </div>
      <div class="quantum-grid" id="quantum-grid">
        <!-- Qubits ser√£o adicionados via JavaScript -->
      </div>
      <div class="frequency-display">
        <div id="lunar-phase-display">üåô Calculando fase lunar...</div>
        <div id="frequency-display">üìä Frequ√™ncia: N√£o selecionada</div>
        <div id="quantum-code-display" class="manifestation-code">C√≥digo qu√¢ntico ser√° gerado...</div>
        <div id="encryption-status" class="encryption-indicator">üîê Sistema aguardando dados</div>
      </div>
      <div class="audio-visualizer" id="audio-visualizer" style="display: none;">
        <!-- Barras de √°udio ser√£o adicionadas via JavaScript -->
      </div>
      <div id="workflow-status" class="workflow-status hidden">
        <h4>ü§ñ Status do Workflow GitHub Actions:</h4>
        <div id="workflow-info">Aguardando ativa√ß√£o...</div>
      </div>
      <!-- NOVO: Se√ß√£o de Indu√ß√£o Gn√≥stica -->
      <div id="gnostic-section" class="gnostic-section">
        <h3>üåÄ INDU√á√ÉO DE ESTADO GN√ìSTICO</h3>
        <p>Prepare-se para entrar em um estado alterado de consci√™ncia. Feche os olhos e respire profundamente.</p>
        <p>Os batimentos binaurais ir√£o gui√°-lo para o estado theta ideal para o carregamento.</p>
        <div class="gnostic-timer" id="gnostic-timer">3:00</div>
        <button id="startGnosticBtn" class="button primary">‚ñ∂Ô∏è INICIAR INDU√á√ÉO</button>
      </div>
      <!-- NOVO: Se√ß√£o de Colapso da Fun√ß√£o de Onda -->
      <div id="collapse-section" class="collapse-section">
        <h3>üëÅÔ∏è‚Äçüó®Ô∏è COLAPSO DA FUN√á√ÉO DE ONDA</h3>
        <p>Visualize seu desejo <strong>COMO SE J√Å ESTIVESSE REALIZADO</strong>. Sinta a emo√ß√£o, os sons, os cheiros.</p>
        <p>Este √© o momento de colapsar as infinitas possibilidades em uma √∫nica realidade.</p>
        <div class="collapse-timer" id="collapse-timer">0:07</div>
        <button id="collapseBtn" class="button collapse-button">‚ú® COLAPSAR AGORA</button>
      </div>
      <!-- NOVO: Se√ß√£o de Libera√ß√£o (M√©todo Spare) -->
      <div id="release-section" class="release-section">
        <h3>üåÄ LIBERA√á√ÉO DO SIGILO (M√©todo Austin Osman Spare)</h3>
        <p>Parab√©ns! Seu sigilo foi carregado com energia gn√≥stica e colapsado na realidade.</p>
        <p>Agora, <strong>LIBERE TOTALMENTE</strong> este desejo da sua mente consciente.</p>
        <p>Distraia-se completamente. V√° tomar um banho, ouvir m√∫sica, caminhar.</p>
        <p>O sigilo agora opera no subconsciente e no campo qu√¢ntico. Confie.</p>
        <div style="margin-top: 20px; color: var(--neon-green); font-weight: bold;">
          ‚ú® "O desejo √© morto no momento de sua satisfa√ß√£o." - Austin Osman Spare
        </div>
      </div>
      <!-- FIM NOVO -->
      <div style="margin-top: 2rem;">
        <a href="realizacoes.html" class="button">‚ñ∂Ô∏è VER REALIZA√á√ïES</a>
      </div>
    </div>
  </div>
  <div class="status-panel" id="status-panel">
    <h4>üìä Status do Sistema</h4>
    <div id="system-status">Sistema iniciando...</div>
    <div id="energy-level">N√≠vel energ√©tico: 0%</div>
    <div id="next-cycle">Pr√≥ximo ciclo: calculando...</div>
  </div>
  <div class="config-panel">
    <div class="config-toggle" onclick="toggleConfig()">‚öôÔ∏è Configura√ß√µes Avan√ßadas</div>
    <form id="config-form">
      <div class="input-group">
        <label for="github-token">üîë Token GitHub:</label>
        <input type="password" id="github-token" placeholder="ghp_...">
      </div>
      <div class="input-group">
        <label for="repo-owner">üë§ Propriet√°rio do Repo:</label>
        <input type="text" id="repo-owner" placeholder="seu-usuario">
      </div>
      <div class="input-group">
        <label for="repo-name">üìÅ Nome do Repo:</label>
        <input type="text" id="repo-name" placeholder="tecnomagia-servidor">
      </div>
      <button type="button" onclick="saveConfig()" class="button">üíæ Salvar Configura√ß√µes</button>
    </form>
  </div>
  <!-- Web Audio API para s√≠ntese de frequ√™ncias -->
  <script>
    // Constantes e configura√ß√µes globais
    const SOLFEGGIO_FREQUENCIES = {
      'UT': { freq: 396, desc: 'Libera√ß√£o de Culpa' },
      'RE': { freq: 417, desc: 'Facilitando Mudan√ßa' },
      'MI': { freq: 528, desc: 'Transforma√ß√£o DNA' },
      'FA': { freq: 639, desc: 'Conex√£o e Amor' },
      'SOL': { freq: 741, desc: 'Despertar Intui√ß√£o' },
      'LA': { freq: 852, desc: 'Retorno Espiritual' },
      'SI': { freq: 963, desc: 'Conex√£o C√≥smica' },
      'OM': { freq: 432, desc: 'Frequ√™ncia Universal' }
    };
    const ASTRO_TIMES = [
      { h: 4, m: 30 }, { h: 7, m: 30 }, { h: 12, m: 0 },
      { h: 15, m: 30 }, { h: 19, m: 30 }, { h: 22, m: 0 }
    ];
    // Biblioteca de Pant√°culos (URLs base64 ou caminhos)
    const PANTACLES = {
      'abundance': 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Seal_of_Jupiter.svg/200px-Seal_of_Jupiter.svg.png',
      'love': 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Seal_of_Venus.svg/200px-Seal_of_Venus.svg.png',
      'protection': 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Seal_of_Saturn.svg/200px-Seal_of_Saturn.svg.png',
      'wisdom': 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Seal_of_Mercury.svg/200px-Seal_of_Mercury.svg.png',
      'healing': 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Seal_of_the_Sun.svg/200px-Seal_of_the_Sun.svg.png',
      'power': 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Seal_of_Mars.svg/200px-Seal_of_Mars.svg.png'
    };
    let audioContext;
    let currentOscillator;
    let selectedFrequency = 528;
    let manifestationData = {};
    let encryptionKey;
    let isManifesting = false;
    let quantumCode = '';
    let sigilData = null; // Armazena dados do sigilo
    let gnosticTimerInterval = null;
    let collapseTimerInterval = null;
    // Inicializa√ß√£o do sistema
    document.addEventListener('DOMContentLoaded', function() {
      initializeSystem();
      setupEventListeners();
      createQuantumGrid();
      createSolfeggioButtons();
      startQuantumAnimation();
    });
    function initializeSystem() {
      updateSystemStatus('Sistema iniciado');
      calculateLunarPhase();
      updateNextCycle();
      // Inicializar Web Audio API (com intera√ß√£o do usu√°rio)
      document.body.addEventListener('click', function() {
        if (!audioContext) {
          if (typeof AudioContext !== 'undefined') {
            audioContext = new AudioContext();
          } else if (typeof webkitAudioContext !== 'undefined') {
            audioContext = new webkitAudioContext();
          }
          if (audioContext) {
            updateSystemStatus('Web Audio API ativada');
          }
        }
      }, { once: true });
      // Gerar chave de criptografia
      encryptionKey = generateEncryptionKey();
      updateEncryptionStatus('Sistema criptogr√°fico ativo');
    }
    function setupEventListeners() {
      const form = document.getElementById('manifestForm');
      const analyzeBtn = document.getElementById('analyzeBtn');
      const intentInput = document.getElementById('intent');
      const testimonyPhoto = document.getElementById('testimonyPhoto');
      const startGnosticBtn = document.getElementById('startGnosticBtn');
      const collapseBtn = document.getElementById('collapseBtn');
      form.addEventListener('submit', handleManifestationSubmit);
      analyzeBtn.addEventListener('click', analyzeIntention);
      intentInput.addEventListener('input', debounce(analyzeIntentionRealTime, 1000));
      testimonyPhoto.addEventListener('change', handleTestimonyUpload);
      startGnosticBtn.addEventListener('click', startGnosticInduction);
      collapseBtn.addEventListener('click', handleCollapseReality);
      // Event listeners para frequ√™ncias Solfeggio
      document.addEventListener('click', function(e) {
        if (e.target.classList.contains('freq-button')) {
          selectFrequency(e.target);
        }
      });
    }
    function createQuantumGrid() {
      const grid = document.getElementById('quantum-grid');
      grid.innerHTML = '';
      for (let i = 0; i < 81; i++) { // 9x9 grid baseada na numerologia Tesla (3-6-9)
        const qubit = document.createElement('div');
        qubit.className = 'qubit';
        qubit.dataset.index = i;
        grid.appendChild(qubit);
      }
    }
    function createSolfeggioButtons() {
      const container = document.getElementById('solfeggio-freq');
      container.innerHTML = '';
      Object.entries(SOLFEGGIO_FREQUENCIES).forEach(([key, data]) => {
        const button = document.createElement('button');
        button.type = 'button';
        button.className = 'freq-button';
        button.dataset.frequency = data.freq;
        button.textContent = `${key} (${data.freq}Hz)`;
        button.title = data.desc;
        if (data.freq === selectedFrequency) {
          button.classList.add('active');
        }
        container.appendChild(button);
      });
    }
    function selectFrequency(button) {
      // Remover sele√ß√£o anterior
      document.querySelectorAll('.freq-button').forEach(btn => btn.classList.remove('active'));
      // Selecionar nova frequ√™ncia
      button.classList.add('active');
      selectedFrequency = parseInt(button.dataset.frequency);
      updateFrequencyDisplay();
      // Reproduzir preview da frequ√™ncia
      if (audioContext) {
        playFrequency(selectedFrequency, 1000);
      }
    }
    function updateFrequencyDisplay() {
      const display = document.getElementById('frequency-display');
      const freqInfo = Object.values(SOLFEGGIO_FREQUENCIES).find(f => f.freq === selectedFrequency);
      display.textContent = `üìä Frequ√™ncia: ${selectedFrequency}Hz - ${freqInfo ? freqInfo.desc : 'Personalizada'}`;
    }
    function playFrequency(frequency, duration = 2000) {
      if (!audioContext) {
        updateSystemStatus('‚ö†Ô∏è Clique em qualquer lugar da p√°gina para ativar o √°udio');
        return;
      }
      // Parar oscilador anterior se existir
      if (currentOscillator) {
        currentOscillator.stop();
      }
      // Criar novo oscilador
      currentOscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      currentOscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      currentOscillator.frequency.value = frequency;
      currentOscillator.type = 'sine';
      // Envelope de amplitude para suavizar
      gainNode.gain.setValueAtTime(0, audioContext.currentTime);
      gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + 0.1);
      gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + duration/1000 - 0.1);
      gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + duration/1000);
      currentOscillator.start(audioContext.currentTime);
      currentOscillator.stop(audioContext.currentTime + duration/1000);
      // Mostrar visualizador de √°udio
      showAudioVisualizer(duration);
    }
    function showAudioVisualizer(duration) {
      const visualizer = document.getElementById('audio-visualizer');
      visualizer.style.display = 'flex';
      visualizer.innerHTML = '';
      // Criar barras de visualiza√ß√£o
      for (let i = 0; i < 20; i++) {
        const bar = document.createElement('div');
        bar.className = 'audio-bar';
        bar.style.animationDelay = `${i * 50}ms`;
        bar.style.animationDuration = `${Math.random() * 0.5 + 0.3}s`;
        visualizer.appendChild(bar);
      }
      // Ocultar ap√≥s dura√ß√£o
      setTimeout(() => {
        visualizer.style.display = 'none';
      }, duration);
    }
    function analyzeIntention() {
      const intent = document.getElementById('intent').value.trim();
      if (!intent) {
        alert('‚ö†Ô∏è Digite sua inten√ß√£o primeiro!');
        return;
      }
      const analysis = performIntentionAnalysis(intent);
      displayAnalysisResults(analysis);
    }
    function analyzeIntentionRealTime() {
      const intent = document.getElementById('intent').value.trim();
      if (intent.length > 10) {
        const analysis = performIntentionAnalysis(intent);
        displayQuickAnalysis(analysis);
      }
    }
    function performIntentionAnalysis(text) {
      const words = text.toLowerCase().split(/\s+/);
      // Palavras de poder (positivas)
      const powerWords = [
        'sou', 'tenho', 'recebo', 'manifesto', 'crio', 'realizo',
        'atraio', 'abund√¢ncia', 'prosperidade', 'alegria', 'sa√∫de',
        'amor', 'sucesso', 'harmonia', 'paz', 'gratid√£o', 'agora',
        'j√°', 'presente', 'realidade', 'concretizado', 'pleno'
      ];
      // Palavras limitantes (evitar)
      const limitingWords = [
        'n√£o', 'nunca', 'jamais', 'imposs√≠vel', 'dif√≠cil', 'problema',
        'dificuldade', 'quero', 'desejo', 'preciso', 'necessito', 'talvez',
        'tentarei', 'espero', 'd√∫vida', 'medo', 'preocupa√ß√£o', 'ansiedade'
      ];
      const powerCount = words.filter(w => powerWords.includes(w)).length;
      const limitingCount = words.filter(w => limitingWords.includes(w)).length;
      // Verificar tempo verbal
      const presentTense = words.some(w => ['sou', 'estou', 'tenho', 'recebo'].includes(w));
      const futureTense = words.some(w => ['serei', 'estarei', 'terei', 'receberei'].includes(w));
      // Calcular pontua√ß√£o
      let score = 50; // Base neutra
      if (words.length > 0) {
        score += (powerCount / words.length) * 30;
        score -= (limitingCount / words.length) * 40;
      }
      if (presentTense) score += 20;
      if (futureTense) score -= 15;
      score = Math.max(0, Math.min(100, score));
      return {
        score: Math.round(score),
        powerWords: powerCount,
        limitingWords: limitingCount,
        presentTense,
        futureTense,
        totalWords: words.length,
        suggestions: generateSuggestions(score, limitingCount, presentTense, futureTense)
      };
    }
    function generateSuggestions(score, limitingCount, presentTense, futureTense) {
      const suggestions = [];
      if (score < 50) {
        suggestions.push('Reformule usando afirma√ß√µes positivas no presente');
      }
      if (limitingCount > 0) {
        suggestions.push('Evite palavras negativas ou limitantes');
      }
      if (futureTense && !presentTense) {
        suggestions.push('Use o tempo presente em vez do futuro');
      }
      if (score < 70) {
        suggestions.push('Adicione mais palavras de poder e certeza');
      }
      return suggestions;
    }
    function displayAnalysisResults(analysis) {
      const container = document.getElementById('intent-analysis');
      container.classList.remove('hidden');
      let statusClass = 'low';
      let statusText = 'PRECISA MELHORAR';
      let statusEmoji = 'üî¥';
      if (analysis.score >= 90) {
        statusClass = 'excellent';
        statusText = 'EXCELENTE';
        statusEmoji = '‚úÖ';
      } else if (analysis.score >= 70) {
        statusClass = 'good';
        statusText = 'BOM';
        statusEmoji = 'üü¢';
      } else if (analysis.score >= 50) {
        statusClass = 'medium';
        statusText = 'M√âDIO';
        statusEmoji = 'üü°';
      }
      let html = `
        <h4>üîç An√°lise da Inten√ß√£o</h4>
        <div style="color: var(--neon-${statusClass === 'excellent' ? 'green' : statusClass === 'good' ? 'cyan' : statusClass === 'medium' ? 'yellow' : 'magenta'});">
          ${statusEmoji} Status: ${statusText} (${analysis.score}/100)
        </div>
        <div>üí™ Palavras de poder: ${analysis.powerWords}</div>
        <div>‚ö†Ô∏è Palavras limitantes: ${analysis.limitingWords}</div>
        <div>‚è∞ Tempo presente: ${analysis.presentTense ? '‚úÖ Sim' : '‚ùå N√£o'}</div>
      `;
      if (analysis.suggestions.length > 0) {
        html += '<div style="margin-top: 10px;"><strong>üìù Sugest√µes:</strong><ul>';
        analysis.suggestions.forEach(suggestion => {
          html += `<li>${suggestion}</li>`;
        });
        html += '</ul></div>';
      }
      container.innerHTML = html;
    }
    function displayQuickAnalysis(analysis) {
      const container = document.getElementById('intent-analysis');
      container.classList.remove('hidden');
      container.innerHTML = `
        <div style="font-size: 0.9em; opacity: 0.8;">
          An√°lise r√°pida: ${analysis.score}/100 pontos
        </div>
      `;
    }
    async function handleManifestationSubmit(e) {
      e.preventDefault();
      if (isManifesting) {
        alert('‚ö†Ô∏è Manifesta√ß√£o j√° em andamento. Aguarde a conclus√£o.');
        return;
      }
      const formData = collectFormData();
      if (!validateFormData(formData)) {
        return;
      }
      isManifesting = true;
      updateSystemStatus('Iniciando processo de manifesta√ß√£o...');
      try {
        await processManifestationRitual(formData);
      } catch (error) {
        console.error('Erro no ritual:', error);
        updateSystemStatus(`Erro: ${error.message}`);
      } finally {
        isManifesting = false;
      }
    }
    function collectFormData() {
      return {
        intent: document.getElementById('intent').value.trim(),
        name: document.getElementById('name').value.trim(),
        birthDate: document.getElementById('birthDate').value.trim(),
        location: document.getElementById('location').value.trim(),
        mode: document.getElementById('manifestationMode').value,
        frequency: selectedFrequency,
        testimonyPhoto: document.getElementById('testimonyPhoto').files[0],
        radionicGraphic: document.getElementById('radionicGraphic').files[0],
        pantacleType: document.getElementById('pantacleType').value // <!-- NOVO -->
      };
    }
    function validateFormData(data) {
      if (!data.intent || !data.name || !data.birthDate) {
        alert('‚ö†Ô∏è Preencha todos os campos obrigat√≥rios!');
        return false;
      }
      if (!/^\d{2}\/\d{2}\/\d{4}$/.test(data.birthDate)) {
        alert('‚ö†Ô∏è Data de nascimento deve estar no formato DD/MM/AAAA');
        return false;
      }
      return true;
    }
    async function processManifestationRitual(formData) {
      // Fase 1: Prepara√ß√£o
      updateSystemStatus('Fase 1: Preparando campos qu√¢nticos...');
      await sleep(1000);
      // Calcular numerologia avan√ßada
      const numerology = calculateAdvancedNumerology(formData.name, formData.birthDate);
      quantumCode = generateQuantumCode(formData.intent, formData.name, formData.birthDate);
      // Criar Sigilo pelo M√©todo Austin Osman Spare
      sigilData = generateAustinSpareSigil(formData.intent);
      // Criptografar dados
      const encryptedData = encryptManifestationData(formData, quantumCode);
      updateEncryptionStatus(`Dados criptografados com chave qu√¢ntica`);
      // Fase 2: Ativa√ß√£o energ√©tica
      updateSystemStatus('Fase 2: Ativando qubits...');
      await activateQuantumGrid(numerology.destinyNumber);
      // Fase 3: Sincroniza√ß√£o de frequ√™ncia
      updateSystemStatus('Fase 3: Sincronizando frequ√™ncias Solfeggio...');
      await playManifestationFrequency(formData.frequency);
      // Fase 4: Visualiza√ß√£o
      updateSystemStatus('Fase 4: Gerando visualiza√ß√µes sagradas...');
      await startVisualization(formData, numerology, quantumCode, sigilData);
      // Fase 5: Upload para GitHub e ativa√ß√£o do workflow
      updateSystemStatus('Fase 5: Criando registro qu√¢ntico...');
      await createGitHubIssue(encryptedData, quantumCode, sigilData);
      // Fase 6: Ativa√ß√£o do workflow de energiza√ß√£o
      await triggerEnergyWorkflow(quantumCode);
      // Finaliza√ß√£o (parcial) - Mostrar pr√≥xima fase
      displayManifestationResults(formData, numerology, quantumCode);
      updateSystemStatus('Manifesta√ß√£o qu√¢ntica preparada! Aguarde a indu√ß√£o gn√≥stica.');
      // Mostrar se√ß√£o de indu√ß√£o gn√≥stica
      document.getElementById('gnostic-section').style.display = 'block';
    }
    <!-- NOVO: Fun√ß√£o para Indu√ß√£o de Estado Gn√≥stico -->
    async function startGnosticInduction() {
      updateSystemStatus('Iniciando Indu√ß√£o de Estado Gn√≥stico...');
      document.getElementById('startGnosticBtn').disabled = true;
      // Reproduzir batimentos binaurais (baseados no Experimento GATE)
      // Frequ√™ncia base: 200Hz (esquerdo), 204Hz (direito) = batimento de 4Hz (estado theta)
      playBinauralBeats(200, 4, 180); // 3 minutos
      // Iniciar contador regressivo
      let seconds = 180; // 3 minutos
      const timerElement = document.getElementById('gnostic-timer');
      gnosticTimerInterval = setInterval(() => {
        seconds--;
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        timerElement.textContent = `${mins}:${secs < 10 ? '0' + secs : secs}`;
        if (seconds <= 0) {
          clearInterval(gnosticTimerInterval);
          updateSystemStatus('Estado Gn√≥stico Alcan√ßado!');
          document.getElementById('gnostic-section').style.display = 'none';
          document.getElementById('collapse-section').style.display = 'block';
          startCollapseTimer();
        }
      }, 1000);
    }
    function playBinauralBeats(baseFreq, beatFreq, duration) {
      if (!audioContext) return;
      const totalSamples = audioContext.sampleRate * duration;
      const leftChannel = audioContext.createBuffer(1, totalSamples, audioContext.sampleRate);
      const rightChannel = audioContext.createBuffer(1, totalSamples, audioContext.sampleRate);
      const leftData = leftChannel.getChannelData(0);
      const rightData = rightChannel.getChannelData(0);
      for (let i = 0; i < totalSamples; i++) {
        const t = i / audioContext.sampleRate;
        leftData[i] = 0.3 * Math.sin(2 * Math.PI * baseFreq * t);
        rightData[i] = 0.3 * Math.sin(2 * Math.PI * (baseFreq + beatFreq) * t);
      }
      const leftSource = audioContext.createBufferSource();
      const rightSource = audioContext.createBufferSource();
      const merger = audioContext.createChannelMerger(2);
      leftSource.buffer = leftChannel;
      rightSource.buffer = rightChannel;
      leftSource.connect(merger, 0, 0);
      rightSource.connect(merger, 0, 1);
      merger.connect(audioContext.destination);
      leftSource.start();
      rightSource.start();
      // Parar ap√≥s dura√ß√£o
      setTimeout(() => {
        leftSource.stop();
        rightSource.stop();
      }, duration * 1000);
    }
    <!-- FIM NOVO -->
    <!-- NOVO: Fun√ß√£o para o Colapso da Realidade -->
    async function handleCollapseReality() {
      updateSystemStatus('üëÅÔ∏è‚Äçüó®Ô∏è Observa√ß√£o Colapsante em andamento...');
      // Desabilitar bot√£o
      document.getElementById('collapseBtn').disabled = true;
      // Reproduzir frequ√™ncias de colapso (741Hz + 852Hz)
      playFrequency(741, 7000);
      await sleep(1000);
      playFrequency(852, 6000);
      // Exibir anima√ß√£o de colapso
      const container = document.getElementById('visualization');
      container.style.animation = 'collapse-animation 7s forwards';
      const style = document.createElement('style');
      style.innerHTML = `
        @keyframes collapse-animation {
          0% { transform: scale(1); filter: brightness(1); }
          50% { transform: scale(1.2); filter: brightness(1.5); }
          100% { transform: scale(0.8); filter: brightness(0.5); }
        }
      `;
      document.head.appendChild(style);
      // Ap√≥s 7 segundos, finalizar
      await sleep(7000);
      updateSystemStatus('‚úÖ Realidade colapsada!');
      document.getElementById('collapse-section').style.display = 'none';
      document.getElementById('release-section').style.display = 'block';
    }
    function startCollapseTimer() {
      let seconds = 7;
      const timerElement = document.getElementById('collapse-timer');
      collapseTimerInterval = setInterval(() => {
        seconds--;
        timerElement.textContent = `0:${seconds < 10 ? '0' + seconds : seconds}`;
        if (seconds <= 0) {
          clearInterval(collapseTimerInterval);
          // Se o usu√°rio n√£o clicou, colapsar automaticamente
          if (document.getElementById('collapseBtn').disabled === false) {
            handleCollapseReality();
          }
        }
      }, 1000);
    }
    <!-- FIM NOVO -->
    function calculateAdvancedNumerology(name, birthDate) {
      // Calcular valor numerol√≥gico do nome
      const nameValue = name.toLowerCase()
        .split('')
        .reduce((sum, char) => {
          if (char >= 'a' && char <= 'z') {
            return sum + (char.charCodeAt(0) - 96);
          }
          return sum;
        }, 0);
      // Calcular valor da data
      const [day, month, year] = birthDate.split('/').map(Number);
      const dateValue = day + month + year;
      // N√∫mero de destino
      let destinyNumber = (nameValue * dateValue) % 108; // 108 √© um n√∫mero sagrado
      while (destinyNumber > 9) {
        destinyNumber = destinyNumber.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);
      }
      if (destinyNumber === 0) destinyNumber = 9;
      // An√°lise cabal√≠stica simplificada
      const vowels = name.toLowerCase().match(/[aeiou]/g) || [];
      const consonants = name.toLowerCase().match(/[bcdfghjklmnpqrstvwxyz]/g) || [];
      const soulNumber = vowels.reduce((sum, v) => sum + ({'a':1,'e':5,'i':9,'o':6,'u':3}[v] || 0), 0) % 9 || 9;
      const personalityNumber = consonants.length % 9 || 9;
      return {
        destinyNumber,
        soulNumber,
        personalityNumber,
        nameValue,
        dateValue
      };
    }
    function generateQuantumCode(intent, name, birthDate) {
      const seed = intent + name + birthDate + Date.now().toString();
      let hash = 0;
      for (let i = 0; i < seed.length; i++) {
        const char = seed.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash; // Convert to 32bit integer
      }
      // Adicionar influ√™ncia lunar
      const lunarPhase = calculateLunarPhase();
      hash = (hash + Math.floor(lunarPhase * 100)) % 1000000000000;
      const codeStr = Math.abs(hash).toString().padStart(12, '0');
      return `${codeStr.slice(0,4)}-${codeStr.slice(4,8)}-${codeStr.slice(8,12)}`;
    }
    <!-- NOVO: Fun√ß√£o para gerar Sigilo pelo M√©todo Austin Osman Spare -->
    function generateAustinSpareSigil(intent) {
      // Passo 1: Escrever a inten√ß√£o
      let statement = intent.toLowerCase();
      // Passo 2: Remover vogais e espa√ßos
      let condensed = statement.replace(/[aeiou\s]/g, '');
      // Passo 3: Remover letras repetidas consecutivas
      condensed = condensed.replace(/(.)\1+/g, '$1');
      // Passo 4: Criar um monograma (simplifica√ß√£o gr√°fica)
      // Para fins web, criamos um SVG baseado nas letras restantes
      let pathData = "M10,50";
      for (let i = 0; i < condensed.length; i++) {
        const charCode = condensed.charCodeAt(i);
        const x = 20 + i * 30;
        const y = 50 + ((charCode % 10) - 5) * 10;
        pathData += ` L${x},${y}`;
      }
      const svg = `
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" width="200" height="100">
          <rect width="200" height="100" fill="black"/>
          <path d="${pathData}" fill="none" stroke="yellow" stroke-width="3"/>
        </svg>
      `;
      const sigilUrl = 'data:image/svg+xml;base64,' + btoa(svg);
      return {
        originalIntent: intent,
        condensed: condensed,
        sigilUrl: sigilUrl
      };
    }
    <!-- FIM NOVO -->
    function generateEncryptionKey() {
      const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
      let result = '';
      for (let i = 0; i < 32; i++) {
        result += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      return result;
    }
    function encryptManifestationData(data, quantumCode) {
      // Simula√ß√£o de criptografia simples para fins educacionais
      const rawData = {
        intent: data.intent,
        name: data.name,
        birthDate: data.birthDate,
        location: data.location,
        mode: data.mode,
        frequency: data.frequency,
        timestamp: Date.now(),
        quantumCode,
        pantacleType: data.pantacleType // <!-- NOVO -->
      };
      let dataStr = JSON.stringify(rawData);
      // Caesar cipher simples com chave baseada no c√≥digo qu√¢ntico
      const shift = quantumCode.split('').reduce((sum, char) => sum + char.charCodeAt(0), 0) % 26;
      dataStr = dataStr.split('').map(char => 
        String.fromCharCode(char.charCodeAt(0) + shift)
      ).join('');
      // Fun√ß√£o para converter string UTF-8 para base64 de forma segura
      function utf8ToB64(str) {
        // Primeiro, codifica a string UTF-8 para uma sequ√™ncia de bytes
        const utf8Bytes = new TextEncoder().encode(str);
        // Depois, converte o array de bytes para uma string "bin√°ria"
        const binaryString = String.fromCharCode.apply(null, utf8Bytes);
        // Finalmente, codifica a string bin√°ria para base64
        return btoa(binaryString);
      }
      try {
        return utf8ToB64(dataStr);
      } catch (error) {
        console.error('Erro ao criptografar dados:', error);
        // Fallback: remove caracteres n√£o-Latin1
        const latin1Str = dataStr.replace(/[^\x00-\xFF]/g, '?');
        return btoa(latin1Str);
      }
    }
    async function activateQuantumGrid(destinyNumber) {
      const qubits = document.querySelectorAll('.qubit');
      const pattern = generateActivationPattern(destinyNumber);
      for (let i = 0; i < pattern.length; i++) {
        await sleep(100);
        qubits.forEach((qubit, index) => {
          qubit.classList.remove('active');
          if (pattern[i].includes(index)) {
            qubit.classList.add('active');
          }
        });
        updateEnergyLevel(Math.min(100, (i + 1) * 10));
      }
    }
    function generateActivationPattern(destinyNumber) {
      const patterns = [];
      const totalQubits = 81;
      // Gerar 10 padr√µes baseados no n√∫mero de destino
      for (let phase = 0; phase < 10; phase++) {
        const pattern = [];
        const numActive = (destinyNumber + phase) % 9 + 1;
        for (let i = 0; i < numActive; i++) {
          const index = (destinyNumber * (phase + 1) * (i + 1)) % totalQubits;
          if (!pattern.includes(index)) {
            pattern.push(index);
          }
        }
        patterns.push(pattern);
      }
      return patterns;
    }
    async function playManifestationFrequency(frequency) {
      if (!audioContext) return;
      updateSystemStatus(`Emitindo ${frequency}Hz...`);
      // Sequ√™ncia de frequ√™ncias harm√¥nicas
      const harmonics = [frequency, frequency * 1.618, frequency * 2, frequency * 2.618];
      for (let i = 0; i < harmonics.length; i++) {
        await sleep(500);
        playFrequency(harmonics[i], 2000);
      }
      showAudioVisualizer(8000);
    }
    async function startVisualization(formData, numerology, quantumCode, sigilData) {
      const container = document.getElementById('visualization');
      container.style.display = 'block';
      // Atualizar display qu√¢ntico
      const display = document.getElementById('quantum-display');
      display.innerHTML = `
        <div style="text-align: center;">
          <div class="manifestation-code">‚ú® ${quantumCode} ‚ú®</div>
          <div>üßø N√∫mero de Destino: ${numerology.destinyNumber}</div>
          <div>üîÆ Modo: ${formData.mode.toUpperCase()}</div>
          <div>üìä Frequ√™ncia: ${formData.frequency}Hz</div>
          <div style="margin-top: 15px; color: var(--neon-green);">
            üåÄ Campo qu√¢ntico estabilizado - Manifesta√ß√£o em processo...
          </div>
        </div>
      `;
      // Iniciar anima√ß√µes
      drawSacredGeometry();
      drawMerkaba();
      // Configurar Sigilo
      await setupQuantumSigil(sigilData.sigilUrl);
      // Configurar foto de testemunha se fornecida
      if (formData.testimonyPhoto) {
        await setupWitnessImage(formData.testimonyPhoto);
      }
      // Configurar gr√°fico radiest√©sico se fornecido
      if (formData.radionicGraphic) {
        await setupRadiographicImage(formData.radionicGraphic);
      }
      // <!-- NOVO: Configurar Pant√°culo -->
      if (formData.pantacleType && formData.pantacleType !== 'none') {
        await setupPantacle(formData.pantacleType);
      }
      // <!-- FIM NOVO -->
    }
    async function setupQuantumSigil(sigilUrl) {
      const container = document.getElementById('sigil-container');
      const image = document.getElementById('sigil-image');
      image.src = sigilUrl;
      container.style.display = 'block';
    }
    async function setupRadiographicImage(file) {
      const container = document.getElementById('radiographic-container');
      const image = document.getElementById('radiographic-image');
      const reader = new FileReader();
      reader.onload = function(e) {
        image.src = e.target.result;
        container.style.display = 'block';
      };
      reader.readAsDataURL(file);
    }
    async function setupWitnessImage(file) {
      const container = document.getElementById('witness-container');
      const image = document.getElementById('witness-image');
      const reader = new FileReader();
      reader.onload = function(e) {
        image.src = e.target.result;
        container.style.display = 'block';
      };
      reader.readAsDataURL(file);
    }
    <!-- NOVO: Fun√ß√£o para configurar o Pant√°culo -->
    async function setupPantacle(pantacleType) {
      const container = document.getElementById('pantacle-container');
      const image = document.getElementById('pantacle-image');
      image.src = PANTACLES[pantacleType];
      container.style.display = 'block';
    }
    <!-- FIM NOVO -->
    function drawSacredGeometry() {
      const canvas = document.getElementById('sacred-geometry');
      const ctx = canvas.getContext('2d');
      canvas.width = canvas.offsetWidth;
      canvas.height = canvas.offsetHeight;
      let rotation = 0;
      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        // Flor da Vida
        ctx.strokeStyle = 'rgba(0, 255, 255, 0.3)';
        ctx.lineWidth = 1;
        const baseRadius = 50;
        const centers = [{x: centerX, y: centerY}]; // Centro
        // Primeiro anel (6 c√≠rculos)
        for (let i = 0; i < 6; i++) {
          const angle = (2 * Math.PI * i / 6) + rotation * 0.01;
          const x = centerX + baseRadius * Math.cos(angle);
          const y = centerY + baseRadius * Math.sin(angle);
          centers.push({x, y});
        }
        // Segundo anel (12 c√≠rculos) - Propor√ß√£o √Åurea
        for (let i = 0; i < 12; i++) {
          const angle = (2 * Math.PI * i / 12) + rotation * 0.005;
          const x = centerX + baseRadius * 1.618 * Math.cos(angle);
          const y = centerY + baseRadius * 1.618 * Math.sin(angle);
          centers.push({x, y});
        }
        centers.forEach((center, index) => {
          const alpha = 0.3 + 0.4 * ((index % 7) / 6);
          ctx.beginPath();
          ctx.arc(center.x, center.y, baseRadius * 0.8, 0, 2 * Math.PI);
          ctx.strokeStyle = `rgba(0, 255, 255, ${alpha})`;
          ctx.stroke();
        });
        // Estrela de Metatron
        ctx.strokeStyle = 'rgba(255, 255, 0, 0.5)';
        ctx.lineWidth = 2;
        const metatronRadius = baseRadius * 2.618;
        for (let i = 0; i < 13; i++) {
          const angle1 = (2 * Math.PI * i / 13) + rotation * 0.015;
          const x1 = centerX + metatronRadius * Math.cos(angle1);
          const y1 = centerY + metatronRadius * Math.sin(angle1);
          for (let j = i + 1; j < 13; j++) {
            const angle2 = (2 * Math.PI * j / 13) + rotation * 0.015;
            const x2 = centerX + metatronRadius * Math.cos(angle2);
            const y2 = centerY + metatronRadius * Math.sin(angle2);
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
          }
        }
        // Espiral dourada
        ctx.strokeStyle = 'rgba(255, 255, 0, 0.4)';
        ctx.beginPath();
        const phi = 1.618033988749895;
        for (let i = 0; i < 200; i++) {
          const angle = i * 0.1 + rotation * 0.02;
          const r = i * phi * 0.5;
          const x = centerX + r * Math.cos(angle);
          const y = centerY + r * Math.sin(angle);
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.stroke();
        rotation++;
        requestAnimationFrame(animate);
      }
      animate();
    }
    function drawMerkaba() {
      const canvas = document.getElementById('merkaba-canvas');
      const ctx = canvas.getContext('2d');
      let rotation = 0;
      function animate() {
        ctx.clearRect(0, 0, 200, 200);
        const centerX = 100;
        const centerY = 100;
        const size = 60;
        ctx.strokeStyle = '#00ffff';
        ctx.lineWidth = 2;
        // Tetraedro superior
        ctx.beginPath();
        for (let i = 0; i < 3; i++) {
          const angle = (2 * Math.PI * i / 3) + rotation * 0.02;
          const x = centerX + size * Math.cos(angle);
          const y = centerY + size * Math.sin(angle);
          if (i === 0) ctx.moveTo(centerX, centerY - size);
          ctx.lineTo(x, y + 20);
        }
        ctx.closePath();
        ctx.stroke();
        // Tetraedro inferior
        ctx.strokeStyle = '#ff00ff';
        ctx.beginPath();
        for (let i = 0; i < 3; i++) {
          const angle = (2 * Math.PI * i / 3) - rotation * 0.02;
          const x = centerX + size * Math.cos(angle);
          const y = centerY + size * Math.sin(angle);
          if (i === 0) ctx.moveTo(centerX, centerY + size);
          ctx.lineTo(x, y - 20);
        }
        ctx.closePath();
        ctx.stroke();
        rotation++;
        requestAnimationFrame(animate);
      }
      animate();
    }
    async function createGitHubIssue(encryptedData, quantumCode, sigilData) {
      const config = getStoredConfig();
      if (!config.token || !config.owner || !config.repo) {
        updateSystemStatus('‚ö†Ô∏è Configure GitHub para ativa√ß√£o completa');
        return;
      }
      const issueTitle = `Manifesta√ß√£o Qu√¢ntica: ${quantumCode}`;
      const issueBody = `
# üåå Registro de Manifesta√ß√£o Qu√¢ntica
**C√≥digo Qu√¢ntico:** \`${quantumCode}\`
**Timestamp:** ${new Date().toISOString()}
**Status:** Ativo
**Sigilo (M√©todo Spare):** \`${sigilData.condensed}\`
## Dados Criptografados
\`\`\`
${encryptedData}
\`\`\`
## Instru√ß√µes para o Workflow
Este registro ativa automaticamente o sistema de energiza√ß√£o cont√≠nua.
O workflow executar√° emiss√µes de energia em intervalos regulares at√© a manifesta√ß√£o.
*Sistema de Tecnomagia Qu√¢ntica - Servidor do Caos*
      `;
      try {
        const response = await fetch(`https://api.github.com/repos/${config.owner}/${config.repo}/issues`, {
          method: 'POST',
          headers: {
            'Authorization': `token ${config.token}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            title: issueTitle,
            body: issueBody,
            labels: ['manifestacao-ativa', 'quantum-entangled', 'energia-continua', 'campo-morfogenetico', 'sigilo-spare'] // <!-- ATUALIZADO -->
          })
        });
        if (response.ok) {
          const issue = await response.json();
          updateSystemStatus(`‚úÖ Registro qu√¢ntico criado: #${issue.number}`);
          return issue;
        } else {
          throw new Error(`GitHub API error: ${response.status}`);
        }
      } catch (error) {
        console.error('Erro ao criar issue:', error);
        updateSystemStatus(`‚ùå Erro no registro: ${error.message}`);
      }
    }
    async function triggerEnergyWorkflow(quantumCode) {
      const config = getStoredConfig();
      if (!config.token) {
        document.getElementById('workflow-status').classList.remove('hidden');
        document.getElementById('workflow-info').innerHTML = `
          <div>üìã Configure GitHub para ativa√ß√£o autom√°tica</div>
          <div>üîÑ Workflow manual: Execute energiza√ß√£o a cada 4 horas</div>
          <div>‚è∞ Pr√≥xima energiza√ß√£o recomendada: ${getNextEnergyTime()}</div>
        `;
        return;
      }
      try {
        // Tentar disparar workflow via repository dispatch
        const response = await fetch(`https://api.github.com/repos/${config.owner}/${config.repo}/dispatches`, {
          method: 'POST',
          headers: {
            'Authorization': `token ${config.token}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            event_type: 'energize_manifestation',
            client_payload: {
              quantum_code: quantumCode,
              timestamp: Date.now()
            }
          })
        });
        document.getElementById('workflow-status').classList.remove('hidden');
        if (response.ok) {
          document.getElementById('workflow-info').innerHTML = `
            <div>‚úÖ Workflow de energiza√ß√£o ativado</div>
            <div>ü§ñ Sistema executar√° automaticamente</div>
            <div>‚è∞ Pr√≥xima execu√ß√£o: ${getNextEnergyTime()}</div>
            <div>üîÑ Frequ√™ncia: A cada 4 horas</div>
            <div style="color: var(--neon-yellow); margin-top: 10px;">
              ‚ú® Ancoragem temporal e refor√ßo de campo morfogen√©tico em opera√ß√£o.
            </div>
          `;
        } else {
          throw new Error(`Dispatch failed: ${response.status}`);
        }
      } catch (error) {
        console.error('Erro ao ativar workflow:', error);
        document.getElementById('workflow-info').innerHTML = `
          <div>‚ö†Ô∏è Workflow manual necess√°rio</div>
          <div>üìã Execute scripts de energiza√ß√£o manualmente</div>
        `;
      }
    }
    function displayManifestationResults(formData, numerology, quantumCode) {
      const correspondences = getHermeticCorrespondences(numerology.destinyNumber);
      const resultsHTML = `
        <div style="text-align: left; margin-top: 20px;">
          <h3>üåü Manifesta√ß√£o Carregada com Sucesso!</h3>
          <div style="margin: 15px 0;">
            <strong>üîÆ Informa√ß√µes Numerol√≥gicas:</strong><br>
            ‚Ä¢ N√∫mero de Destino: ${numerology.destinyNumber}<br>
            ‚Ä¢ N√∫mero da Alma: ${numerology.soulNumber}<br>
            ‚Ä¢ N√∫mero da Personalidade: ${numerology.personalityNumber}
          </div>
          <div style="margin: 15px 0;">
            <strong>üåø Correspond√™ncias Herm√©ticas:</strong><br>
            ‚Ä¢ Elemento: ${correspondences.element}<br>
            ‚Ä¢ Planeta: ${correspondences.planet}<br>
            ‚Ä¢ Pedra: ${correspondences.stone}<br>
            ‚Ä¢ Chakra: ${correspondences.chakra}
          </div>
          <div style="margin: 15px 0;">
            <strong>üìã Instru√ß√µes para Potencializar:</strong><br>
            1. Visualize seu objetivo realizado por 5 min di√°rios<br>
            2. Repita o c√≥digo ${quantumCode} 3x ao acordar/dormir<br>
            3. Use pedras: ${correspondences.stone}<br>
            4. Trabalhe o chakra: ${correspondences.chakra}<br>
            5. Mantenha gratid√£o pelo que j√° possui
          </div>
          <div style="color: var(--neon-yellow); margin-top: 20px; font-weight: bold;">
            ‚ú® O sistema continuar√° energizando sua manifesta√ß√£o automaticamente!
          </div>
        </div>
      `;
      document.getElementById('quantum-display').innerHTML = resultsHTML;
    }
    function getHermeticCorrespondences(destinyNumber) {
      const correspondences = {
        1: { element: 'Fogo', planet: 'Sol', stone: 'Rubi, Diamante', chakra: 'Plexo Solar' },
        2: { element: '√Ågua', planet: 'Lua', stone: 'P√©rola, Selenita', chakra: 'Sacral' },
        3: { element: 'Ar', planet: 'J√∫piter', stone: 'Safira, Turquesa', chakra: 'Garganta' },
        4: { element: 'Terra', planet: 'Saturno', stone: 'Jade, Esmeralda', chakra: 'Raiz' },
        5: { element: 'Fogo', planet: 'Merc√∫rio', stone: '√Ågata, Citrino', chakra: 'Plexo Solar' },
        6: { element: 'Ar', planet: 'V√™nus', stone: 'Esmeralda, Quartzo Rosa', chakra: 'Card√≠aco' },
        7: { element: '√Ågua', planet: 'Netuno', stone: 'Ametista, Fluorita', chakra: 'Terceiro Olho' },
        8: { element: 'Terra', planet: 'Saturno', stone: 'Obsidiana, √înix', chakra: 'Raiz' },
        9: { element: 'Fogo', planet: 'Marte', stone: 'Granada, Rubi', chakra: 'Coron√°rio' }
      };
      return correspondences[destinyNumber] || correspondences[9];
    }
    function calculateLunarPhase() {
      const now = new Date();
      const year = now.getFullYear();
      const month = now.getMonth() + 1;
      const day = now.getDate();
      let r = year % 100;
      r %= 19;
      if (r > 9) r -= 19;
      r = ((r * 11) % 30) + month + day;
      if (month < 3) r += 2;
      let phase = (r + 8) % 30;
      phase = (phase / 30.0) * 360;
      if (phase < 0) phase += 360;
      // Atualizar display da fase lunar
      updateLunarPhaseDisplay(phase);
      return phase;
    }
    function updateLunarPhaseDisplay(degrees) {
      const phases = {
        'Nova': [0, 45],
        'Crescente': [45, 90],
        'Quarto Crescente': [90, 135],
        'Gibosa Crescente': [135, 180],
        'Cheia': [180, 225],
        'Gibosa Minguante': [225, 270],
        'Quarto Minguante': [270, 315],
        'Minguante': [315, 360]
      };
      let phaseName = 'Nova';
      for (const [name, range] of Object.entries(phases)) {
        if (degrees >= range[0] && degrees < range[1]) {
          phaseName = name;
          break;
        }
      }
      document.getElementById('lunar-phase-display').innerHTML = 
        `üåô Fase Lunar: ${phaseName} (${degrees.toFixed(1)}¬∞)`;
    }
    function updateNextCycle() {
      const now = new Date();
      const currentHour = now.getHours();
      const currentMinute = now.getMinutes();
      let nextWindow = null;
      for (const window of ASTRO_TIMES) {
        if (window.h > currentHour || (window.h === currentHour && window.m > currentMinute)) {
          nextWindow = new Date(now);
          nextWindow.setHours(window.h, window.m, 0, 0);
          break;
        }
      }
      if (!nextWindow) {
        nextWindow = new Date(now);
        nextWindow.setDate(nextWindow.getDate() + 1);
        nextWindow.setHours(ASTRO_TIMES[0].h, ASTRO_TIMES[0].m, 0, 0);
      }
      document.getElementById('next-cycle').textContent = 
        `Pr√≥ximo ciclo: ${nextWindow.toLocaleDateString('pt-BR')} √†s ${nextWindow.toTimeString().slice(0,5)}`;
    }
    function getNextEnergyTime() {
      const now = new Date();
      const next = new Date(now.getTime() + 4 * 60 * 60 * 1000); // 4 horas
      return next.toLocaleString('pt-BR');
    }
    function updateSystemStatus(message) {
      document.getElementById('system-status').textContent = message;
      document.getElementById('status-text').textContent = message;
    }
    function updateEnergyLevel(level) {
      document.getElementById('energy-level').textContent = `N√≠vel energ√©tico: ${level}%`;
    }
    function updateEncryptionStatus(message) {
      document.getElementById('encryption-status').textContent = `üîê ${message}`;
    }
    function handleTestimonyUpload(event) {
      const file = event.target.files[0];
      if (file) {
        updateSystemStatus('Foto testemunha carregada');
      }
    }
    // Fun√ß√µes de configura√ß√£o
    function toggleConfig() {
      const form = document.getElementById('config-form');
      form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }
    function saveConfig() {
      const token = document.getElementById('github-token').value;
      const owner = document.getElementById('repo-owner').value;
      const repo = document.getElementById('repo-name').value;
      if (token && owner && repo) {
        const config = { token, owner, repo };
        try {
          localStorage.setItem('technomagic_config', JSON.stringify(config));
          alert('‚úÖ Configura√ß√µes salvas! Sistema pronto para opera√ß√£o completa.');
          toggleConfig();
          updateSystemStatus('Sistema configurado - GitHub integrado');
        } catch (error) {
          alert('‚ùå Erro ao salvar configura√ß√µes');
        }
      } else {
        alert('‚ö†Ô∏è Preencha todos os campos de configura√ß√£o');
      }
    }
    function getStoredConfig() {
      try {
        const config = localStorage.getItem('technomagic_config');
        return config ? JSON.parse(config) : { token: '', owner: '', repo: '' };
      } catch (error) {
        return { token: '', owner: '', repo: '' };
      }
    }
    function loadStoredConfig() {
      const config = getStoredConfig();
      if (config.token) {
        document.getElementById('github-token').value = config.token;
        document.getElementById('repo-owner').value = config.owner;
        document.getElementById('repo-name').value = config.repo;
        updateSystemStatus('Configura√ß√£o carregada do armazenamento');
      }
    }
    // Anima√ß√£o qu√¢ntica de fundo
    function startQuantumAnimation() {
      const background = document.querySelector('.quantum-background');
      let rotation = 0;
      function animate() {
        rotation += 0.2;
        background.style.transform = `rotate(${rotation}deg) scale(${1 + Math.sin(rotation * 0.01) * 0.1})`;
        requestAnimationFrame(animate);
      }
      animate();
    }
    // Utility functions
    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }
    // Auto-atualiza√ß√£o de ciclos
    setInterval(() => {
      updateNextCycle();
      calculateLunarPhase();
    }, 60000); // Atualiza a cada minuto
    // Carregar configura√ß√µes ao iniciar
    window.addEventListener('load', () => {
      loadStoredConfig();
    });
    // Auto-save form data
    const formElements = ['intent', 'name', 'birthDate', 'location'];
    formElements.forEach(elementId => {
      const element = document.getElementById(elementId);
      if (element) {
        // Carregar dados salvos
        const savedValue = localStorage.getItem(`form_${elementId}`);
        if (savedValue) {
          element.value = savedValue;
        }
        // Auto-salvar mudan√ßas
        element.addEventListener('input', () => {
          localStorage.setItem(`form_${elementId}`, element.value);
        });
      }
    });
  </script>
</body>
</html>